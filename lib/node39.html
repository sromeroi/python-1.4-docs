<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>3.9.2 Converting AST Objects</TITLE>
<META NAME="description" CONTENT="3.9.2 Converting AST Objects">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="lib.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2734" HREF="node40.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html2732" HREF="node37.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html2726" HREF="node38.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html2736" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html2737" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html2735" HREF="node40.html">3.9.3 Queries on AST </A>
<B>Up:</B> <A NAME="tex2html2733" HREF="node37.html">3.9 Built-in Module parser</A>
<B> Previous:</B> <A NAME="tex2html2727" HREF="node38.html">3.9.1 Creating AST Objects</A>
<BR><HR><P>
<H2><A NAME="SECTION00492000000000000000">3.9.2 Converting AST Objects</A></H2>
<P>
AST objects, regardless of the input used to create them, may be
converted to parse trees represented as list- or tuple- trees, or may
be compiled into executable code objects.  Parse trees may be
extracted with or without line numbering information.
<P>
<DL><DT><STRONG><A NAME="2373">ast2list</A></STRONG>(<VAR>ast</VAR><BIG>[</BIG><VAR>, line_info<CODE> = 0</CODE></VAR><BIG>]</BIG><VAR></VAR>)
<DD>
This function accepts an AST object from the caller in
<CODE><VAR>ast</VAR></CODE> and returns a Python list representing the
equivelent parse tree.  The resulting list representation can be used
for inspection or the creation of a new parse tree in list form.  This
function does not fail so long as memory is available to build the
list representation.  If the parse tree will only be used for
inspection, <CODE>ast2tuple()</CODE> should be used instead to reduce memory
consumption and fragmentation.  When the list representation is
required, this function is significantly faster than retrieving a
tuple representation and converting that to nested lists.
<P>
If <CODE><VAR>line_info</VAR></CODE> is true, line number information will be
included for all terminal tokens as a third element of the list
representing the token.  Note that the line number provided specifies
the line on which the token <EM>ends</EM>.  This information is
omitted if the flag is false or omitted.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="2374">ast2tuple</A></STRONG>(<VAR>ast</VAR><BIG>[</BIG><VAR>, line_info<CODE> = 0</CODE></VAR><BIG>]</BIG><VAR></VAR>)
<DD>
This function accepts an AST object from the caller in
<CODE><VAR>ast</VAR></CODE> and returns a Python tuple representing the
equivelent parse tree.  Other than returning a tuple instead of a
list, this function is identical to <CODE>ast2list()</CODE>.
<P>
If <CODE><VAR>line_info</VAR></CODE> is true, line number information will be
included for all terminal tokens as a third element of the list
representing the token.  This information is omitted if the flag is
false or omitted.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="2375">compileast</A></STRONG>(<VAR>ast</VAR><BIG>[</BIG><VAR>, filename<CODE> = '&lt;ast&gt;'</CODE></VAR><BIG>]</BIG><VAR></VAR>)
<DD>
The Python byte compiler can be invoked on an AST object to produce
code objects which can be used as part of an <CODE>exec</CODE> statement or
a call to the built-in <CODE>eval()</CODE> function.  This function provides
the interface to the compiler, passing the internal parse tree from
<CODE><VAR>ast</VAR></CODE> to the parser, using the source file name specified
by the <CODE><VAR>filename</VAR></CODE> parameter.  The default value supplied
for <CODE><VAR>filename</VAR></CODE> indicates that the source was an AST object.
<P>
Compiling an AST object may result in exceptions related to
compilation; an example would be a <CODE>SyntaxError</CODE> caused by the
parse tree for <CODE>del f(0)</CODE>: this statement is considered legal
within the formal grammar for Python but is not a legal language
construct.  The <CODE>SyntaxError</CODE> raised for this condition is
actually generated by the Python byte-compiler normally, which is why
it can be raised at this point by the <CODE>parser</CODE> module.  Most
causes of compilation failure can be diagnosed programmatically by
inspection of the parse tree.
<P>
</DL><HR><A NAME="tex2html2734" HREF="node40.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html2732" HREF="node37.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html2726" HREF="node38.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html2736" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html2737" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html2735" HREF="node40.html">3.9.3 Queries on AST </A>
<B>Up:</B> <A NAME="tex2html2733" HREF="node37.html">3.9 Built-in Module parser</A>
<B> Previous:</B> <A NAME="tex2html2727" HREF="node38.html">3.9.1 Creating AST Objects</A>
<P><ADDRESS>
guido@cnri.reston.va.us
</ADDRESS>
</BODY>
</HTML>
