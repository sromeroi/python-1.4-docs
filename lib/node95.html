<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>10.5 Reference Manual</TITLE>
<META NAME="description" CONTENT="10.5 Reference Manual">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="lib.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3436" HREF="node96.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html3434" HREF="node90.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html3428" HREF="node94.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html3438" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html3439" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html3437" HREF="node96.html">10.5.1 The Stats Class</A>
<B>Up:</B> <A NAME="tex2html3435" HREF="node90.html">10 The Python Profiler</A>
<B> Previous:</B> <A NAME="tex2html3429" HREF="node94.html">10.4 What Is Deterministic </A>
<BR><HR><P>
<H1><A NAME="SECTION001150000000000000000">10.5 Reference Manual</A></H1>
<P>
The primary entry point for the profiler is the global function
<CODE>profile.run()</CODE>.  It is typically used to create any profile
information.  The reports are formatted and printed using methods of
the class <CODE>pstats.Stats</CODE>.  The following is a description of all
of these standard entry points and functions.  For a more in-depth
view of some of the code, consider reading the later section on
Profiler Extensions, which includes discussion of how to derive
``better'' profilers from the classes presented, or reading the source
code for these modules.
<P>
<DL><DT><STRONG><A NAME="5752">profile.run</A></STRONG>(<VAR>string</VAR><BIG>[</BIG><VAR>, filename</VAR><BIG>[</BIG><VAR>, ...</VAR><BIG>]</BIG><VAR></VAR><BIG>]</BIG><VAR></VAR>)
<DD>
<P>
This function takes a single argument that has can be passed to the
<CODE>exec</CODE> statement, and an optional file name.  In all cases this
routine attempts to <CODE>exec</CODE> its first argument, and gather profiling
statistics from the execution. If no file name is present, then this
function automatically prints a simple profiling report, sorted by the
standard name string (file/line/function-name) that is presented in
each line.  The following is a typical output from such a call:
<P>
<SMALL CLASS=SMALL>
<PRE>      main()
      2706 function calls (2004 primitive calls) in 4.504 CPU seconds

Ordered by: standard name

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     2    0.006    0.003    0.953    0.477 pobject.py:75(save_objects)
  43/3    0.533    0.012    0.749    0.250 pobject.py:99(evaluate)
 ...</PRE>

<P>
The first line indicates that this profile was generated by the call:<BR> 
<CODE>profile.run('main()')</CODE>, and hence the exec'ed string is
<CODE>'main()'</CODE>.  The second line indicates that 2706 calls were
monitored.  Of those calls, 2004 were <I><DFN>primitive</DFN></I>.  We define
<I><DFN>primitive</DFN></I> to mean that the call was not induced via recursion.
The next line: <CODE>Ordered by: standard name</CODE>, indicates that
the text string in the far right column was used to sort the output.
The column headings include:
<P>
<DL ><DT><STRONG>ncalls </STRONG>
<DD>
for the number of calls,
<P>
<DT><STRONG>tottime </STRONG>
<DD>
for the total time spent in the given function (and excluding time
made in calls to sub-functions),
<P>
<DT><STRONG>percall </STRONG>
<DD>
is the quotient of <CODE>tottime</CODE> divided by <CODE>ncalls</CODE>
<P>
<DT><STRONG>cumtime </STRONG>
<DD>
is the total time spent in this and all subfunctions (i.e., from
invocation till exit). This figure is accurate <EM>even</EM> for recursive
functions.
<P>
<DT><STRONG>percall </STRONG>
<DD>
is the quotient of <CODE>cumtime</CODE> divided by primitive calls
<P>
<DT><STRONG>filename:lineno(function) </STRONG>
<DD>
provides the respective data of each function
<P>
 </DL>
<P>
When there are two numbers in the first column (e.g.: `<SAMP>43/3</SAMP>'),
then the latter is the number of primitive calls, and the former is
the actual number of calls.  Note that when the function does not
recurse, these two values are the same, and only the single figure is
printed.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="5744">pstats.Stats</A></STRONG>(<VAR>filename</VAR><BIG>[</BIG><VAR>, ...</VAR><BIG>]</BIG><VAR></VAR>)
<DD>
This class constructor creates an instance of a ``statistics object''
from a <VAR>filename</VAR> (or set of filenames).  <CODE>Stats</CODE> objects are
manipulated by methods, in order to print useful reports.
<P>
The file selected by the above constructor must have been created by
the corresponding version of <CODE>profile</CODE>.  To be specific, there is
<EM>NO</EM> file compatibility guaranteed with future versions of this
profiler, and there is no compatibility with files produced by other
profilers (e.g., the old system profiler).
<P>
If several files are provided, all the statistics for identical
functions will be coalesced, so that an overall view of several
processes can be considered in a single report.  If additional files
need to be combined with data in an existing <CODE>Stats</CODE> object, the
<CODE>add()</CODE> method can be used.
<P>
</DL></SMALL><BR> <HR>
<UL> 
<LI> <A NAME="tex2html3440" HREF="node96.html#SECTION001151000000000000000">10.5.1 The <CODE>Stats</CODE> Class</A>
</UL>
<HR><A NAME="tex2html3436" HREF="node96.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html3434" HREF="node90.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html3428" HREF="node94.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html3438" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html3439" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html3437" HREF="node96.html">10.5.1 The Stats Class</A>
<B>Up:</B> <A NAME="tex2html3435" HREF="node90.html">10 The Python Profiler</A>
<B> Previous:</B> <A NAME="tex2html3429" HREF="node94.html">10.4 What Is Deterministic </A>
<P><ADDRESS>
guido@cnri.reston.va.us
</ADDRESS>
</BODY>
</HTML>
