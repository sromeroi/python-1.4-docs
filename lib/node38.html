<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>3.9.1 Creating AST Objects</TITLE>
<META NAME="description" CONTENT="3.9.1 Creating AST Objects">
<META NAME="keywords" CONTENT="lib">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="lib.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2722" HREF="node39.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html2720" HREF="node37.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html2714" HREF="node37.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html2724" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html2725" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html2723" HREF="node39.html">3.9.2 Converting AST Objects</A>
<B>Up:</B> <A NAME="tex2html2721" HREF="node37.html">3.9 Built-in Module parser</A>
<B> Previous:</B> <A NAME="tex2html2715" HREF="node37.html">3.9 Built-in Module parser</A>
<BR><HR><P>
<H2><A NAME="SECTION00491000000000000000">3.9.1 Creating AST Objects</A></H2>
<P>
AST objects may be created from source code or from a parse tree.
When creating an AST object from source, different functions are used
to create the <CODE>'eval'</CODE> and <CODE>'exec'</CODE> forms.
<P>
<DL><DT><STRONG><A NAME="2186">expr</A></STRONG>(<VAR>string</VAR>)
<DD>
The <CODE>expr()</CODE> function parses the parameter <CODE><VAR>string</VAR></CODE>
as if it were an input to <CODE>compile(<VAR>string</VAR>, 'eval')</CODE>.  If
the parse succeeds, an AST object is created to hold the internal
parse tree representation, otherwise an appropriate exception is
thrown.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="2193">suite</A></STRONG>(<VAR>string</VAR>)
<DD>
The <CODE>suite()</CODE> function parses the parameter <CODE><VAR>string</VAR></CODE>
as if it were an input to <CODE>compile(<VAR>string</VAR>, 'exec')</CODE>.  If
the parse succeeds, an AST object is created to hold the internal
parse tree representation, otherwise an appropriate exception is
thrown.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="2200">sequence2ast</A></STRONG>(<VAR>sequence</VAR>)
<DD>
This function accepts a parse tree represented as a sequence and
builds an internal representation if possible.  If it can validate
that the tree conforms to the Python grammar and all nodes are valid
node types in the host version of Python, an AST object is created
from the internal representation and returned to the called.  If there
is a problem creating the internal representation, or if the tree
cannot be validated, a <CODE>ParserError</CODE> exception is thrown.  An AST
object created this way should not be assumed to compile correctly;
normal exceptions thrown by compilation may still be initiated when
the AST object is passed to <CODE>compileast()</CODE>.  This may indicate
problems not related to syntax (such as a <CODE>MemoryError</CODE>
exception), but may also be due to constructs such as the result of
parsing <CODE>del f(0)</CODE>, which escapes the Python parser but is
checked by the bytecode compiler.
<P>
Sequences representing terminal tokens may be represented as either
two-element lists of the form <CODE>(1, 'name')</CODE> or as three-element
lists of the form <CODE>(1, 'name', 56)</CODE>.  If the third element is
present, it is assumed to be a valid line number.  The line number
may be specified for any subset of the terminal symbols in the input
tree.
<P>
</DL>
<P>
<DL><DT><STRONG><A NAME="2210">tuple2ast</A></STRONG>(<VAR>sequence</VAR>)
<DD>
This is the same function as <CODE>sequence2ast()</CODE>.  This entry point
is maintained for backward compatibility.
<P>
</DL><HR><A NAME="tex2html2722" HREF="node39.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="../icons/next_motif.gif" BORDER=0></A> <A NAME="tex2html2720" HREF="node37.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="../icons/up_motif.gif" BORDER=0></A> <A NAME="tex2html2714" HREF="node37.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="../icons/previous_motif.gif" BORDER=0></A> <A NAME="tex2html2724" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="../icons/contents_motif.gif" BORDER=0></A> <A NAME="tex2html2725" HREF="node221.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="../icons/index_motif.gif" BORDER=0></A> <BR>
<B> Next:</B> <A NAME="tex2html2723" HREF="node39.html">3.9.2 Converting AST Objects</A>
<B>Up:</B> <A NAME="tex2html2721" HREF="node37.html">3.9 Built-in Module parser</A>
<B> Previous:</B> <A NAME="tex2html2715" HREF="node37.html">3.9 Built-in Module parser</A>
<P><ADDRESS>
guido@cnri.reston.va.us
</ADDRESS>
</BODY>
</HTML>
